{"version":3,"sources":["src/components/modals/Signup.js","src/screens/Signup/head.js","src/screens/Signup/index.js"],"names":["schema","type","properties","fullName","username","password","Signup","props","Form","action","controller","Head","StyleSheet","create","NAME","rel","href","URL","user","redirect","useLoginRedirect","allowed","useRef","current","role","Header","LimitedContainer","SIGNUP_DISCLAIMER","onBeforeSubmit","onAfterSuccess","Footer","replace","to","getUrl"],"mappings":"0NAGMA,EAAS,CACbC,KAAM,SACNC,WAAY,CACVC,SAAU,CAAEF,KAAM,UAClBG,SAAU,CAAEH,KAAM,UAClBI,SAAU,CAAEJ,KAAM,YAaPK,EATA,SAAAC,GAAK,OAClB,kBAACC,EAAA,EAAD,OACMD,EADN,CAEEE,OAAO,SACPC,WAAW,SACXV,OAAQA,M,eCLCW,GAFSC,IAAWC,OAAO,IAEpB,kBAClB,kBAAC,IAAD,KACE,2CAAoBC,KACpB,0BAAMC,IAAI,YAAYC,KAASC,IAAL,YAC1B,+BACG,OCmCQX,UAvCA,SAACC,GAAW,IACjBW,EAASX,EAATW,KAEFC,EAAWC,YAAiBb,GAI5Bc,EAAUC,kBAAO,GAKvB,OAAKD,EAAQE,SAAyB,YAAdL,EAAKM,KAK3B,kBAAC,IAAD,KACE,kBAAC,EAAD,MACA,kBAACC,EAAA,EAAWlB,GACZ,kBAACmB,EAAA,EAAD,KACE,kBAAC,IAAD,KACGC,KAEH,kBAAC,EAAD,OACMpB,EADN,CAEEqB,eAlBe,WACrBP,EAAQE,SAAU,GAkBZM,eAAgBV,MAGpB,kBAACW,EAAA,EAAD,OAjBK,kBAAC,IAAD,CAAUC,SAAO,EAACC,GAAIC,YAAO","file":"static/js/14.2554aafd.chunk.js","sourcesContent":["import React from 'react';\nimport Form from '../Form';\n\nconst schema = {\n  type: 'object',\n  properties: {\n    fullName: { type: 'string' },\n    username: { type: 'string' },\n    password: { type: 'string' },\n  },\n};\n\nconst Signup = props => (\n  <Form\n    {...props}\n    action=\"signup\"\n    controller=\"parent\"\n    schema={schema}\n  />\n);\n\nexport default Signup;\n","import React from 'react';\nimport { StyleSheet } from 'react-native';\nimport {\n  Helmet,\n  title,\n  style,\n  link,\n} from 'react-native-web-ui-components/Helmet';\nimport { URL, NAME } from '../../config';\n\nexport const styles = StyleSheet.create({});\n\nexport const Head = () => (\n  <Helmet>\n    <title>{`Signup - ${NAME}`}</title>\n    <link rel=\"canonical\" href={`${URL}/signup`} />\n    <style>\n      {''}\n    </style>\n  </Helmet>\n);\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router';\nimport { Text, MainContainer } from 'react-native-web-ui-components';\nimport { SIGNUP_DISCLAIMER } from '../../config';\nimport useLoginRedirect from '../../utils/useLoginRedirect';\nimport getUrl from '../../utils/getUrl';\nimport Header from '../../components/Header';\nimport Footer from '../../components/Footer';\nimport LimitedContainer from '../../components/LimitedContainer';\nimport SignupForm from '../../components/modals/Signup';\nimport { Head } from './head';\n\nconst Signup = (props) => {\n  const { user } = props;\n\n  const redirect = useLoginRedirect(props);\n\n  // We don't want to redirect the user before\n  // they see the success message.\n  const allowed = useRef(false);\n  const onBeforeSubmit = () => {\n    allowed.current = true;\n  };\n\n  if (!allowed.current && user.role !== 'VISITOR') {\n    return <Redirect replace to={getUrl('/')} />;\n  }\n\n  return (\n    <MainContainer>\n      <Head />\n      <Header {...props} />\n      <LimitedContainer>\n        <Text>\n          {SIGNUP_DISCLAIMER}\n        </Text>\n        <SignupForm\n          {...props}\n          onBeforeSubmit={onBeforeSubmit}\n          onAfterSuccess={redirect}\n        />\n      </LimitedContainer>\n      <Footer />\n    </MainContainer>\n  );\n};\n\nSignup.propTypes = {\n  user: PropTypes.shape().isRequired,\n};\n\nexport default Signup;\n"],"sourceRoot":""}